window.optimizely=window.optimizely||[];var ttcModule=function(){var t=function(){localStorage.getItem("logttc")&&console.log.apply(console,arguments)},e=function(){var t={};try{t=JSON.parse(window.optimizely.get("visitor").custom.ttc.value)}catch(t){}return t},i=function(t,e,i){if(!t||!t.length)return-1;for(var o=0;o<t.length;o++)if(t[o][e]===i)return o;return-1},o=function(t){var e={type:"user",attributes:{}};e.attributes.ttc=JSON.stringify(t),window.optimizely.push(e)};return{listenTrack:function(n,r,a){var c=e(),s={t:(new Date).getTime(),s:window.optimizely.get("session").sessionId,e:r,o:!1},l=i(c[n],"e",r);a&&l>-1?(c[n][l].t=s.t,c[n][l].s=s.s,t('Register listener for "'+n+'"',c)):l<0&&(c[n]=(c[n]||[]).concat(s),t('Register listener for "'+n+'"',c)),o(c)},checkDispatch:function(i){var n=e();(n[i]||[]).forEach(function(e,i,o){if(!e.o){var n=Math.round((new Date-new Date(e.t))/1e3);t("Dispatch",e.e,n),o[i].o=!0,window.optimizely.push({type:"event",eventName:e.e,tags:{value:n}})}}),o(n)},debug:function(){console.log(e())}}}();window.optimizely.push({type:"registerModule",moduleName:"ttc",module:ttcModule}),window.optimizely.push({type:"addListener",filter:{type:"analytics",name:"trackEvent"},handler:function(t){window.optimizely.get("custom/ttc").checkDispatch(t.data.apiName)}});